var dictionary = {
  "A": [
    'ABKHAZIA',          'AFGHANISTAN',
    'ALAND ISLANDS',     'ALBANIA',
    'ALGERIA',           'AMERICAN SAMOA',
    'ANDORRA',           'ANGOLA',
    'ANGUILLA',          'ANTARCTICA',
    'ANTIGUA & BARBUDA', 'ARGENTINA',
    'ARMENIA',           'ARTSAKH',
    'ARUBA',             'AUSTRALIA',
    'AUSTRIA',           'AZERBAIJAN'
  ],
  "B": [
    'BAHAMAS',
    'BAHRAIN',
    'BANGLADESH',
    'BARBADOS',
    'BELARUS',
    'BELGIUM',
    'BELIZE',
    'BENIN',
    'BERMUDA',
    'BHUTAN',
    'BOLIVIA',
    'BOSNIA & HERZEGOVINA',
    'BOTSWANA',
    'BOUVET ISLAND',
    'BRAZIL',
    'BRITISH INDIAN OCEAN TERRITORY',
    'BRITISH VIRGIN ISLANDS',
    'BRUNEI',
    'BULGARIA',
    'BURKINA FASO',
    'BURUNDI'
  ],
  "C": [
    'CAMBODIA',
    'CAMEROON',
    'CANADA',
    'CAPE VERDE',
    'CARIBBEAN NETHERLANDS',
    'CAYMAN ISLANDS',
    'CENTRAL AFRICAN REPUBLIC',
    'CHAD',
    'CHILE',
    'CHINA',
    'CHRISTMAS ISLAND',
    'COCOS',
    'COLOMBIA',
    'COMOROS',
    'CONGO',
    'COOK ISLANDS',
    'COSTA RICA',
    'CROATIA',
    'CUBA',
    'CURACAO',
    'CYPRUS',
    'CZECHIA',
    'COTE D’IVOIRE'
  ],
  "D": [ 'DENMARK', 'DJIBOUTI', 'DOMINICA', 'DOMINICAN REPUBLIC' ],
  "E": [
    'ECUADOR',
    'EGYPT',
    'EL SALVADOR',
    'EQUATORIAL GUINEA',
    'ERITREA',
    'ESTONIA',
    'ESWATINI',
    'ETHIOPIA'
  ],
  "F": [
    'FALKLAND ISLANDS',
    'FAROE ISLANDS',
    'FIJI',
    'FINLAND',
    'FRANCE',
    'FRENCH GUIANA',
    'FRENCH POLYNESIA',
    'FRENCH SOUTHERN TERRITORIES'
  ],
  "G": [
    'GABON',         'GAMBIA',
    'GEORGIA',       'GERMANY',
    'GHANA',         'GIBRALTAR',
    'GREECE',        'GREENLAND',
    'GRENADA',       'GUADELOUPE',
    'GUAM',          'GUATEMALA',
    'GUERNSEY',      'GUINEA',
    'GUINEA-BISSAU', 'GUYANA'
  ],
  "H": [
    'HAITI',
    'HEARD & MCDONALD ISLANDS',
    'HONDURAS',
    'HONG KONG',
    'HUNGARY'
  ],
  "I": [
    'ICELAND',     'INDIA',
    'INDONESIA',   'IRAN',
    'IRAQ',        'IRELAND',
    'ISLE OF MAN', 'ISRAEL',
    'ITALY'
  ],
  "J": [ 'JAMAICA', 'JAPAN', 'JERSEY', 'JORDAN' ],
  "K": [
    'KAZAKHSTAN',
    'KENYA',
    'KIRIBATI',
    'KOSOVO',
    'KUWAIT',
    'KYRGYZSTAN'
  ],
  "L": [
    'LAOS',
    'LATVIA',
    'LEBANON',
    'LESOTHO',
    'LIBERIA',
    'LIBYA',
    'LIECHTENSTEIN',
    'LITHUANIA',
    'LUXEMBOURG'
  ],
  "M": [
    'MACAO SAR CHINA', 'MADAGASCAR',
    'MALAWI',          'MALAYSIA',
    'MALDIVES',        'MALI',
    'MALTA',           'MARSHALL ISLANDS',
    'MARTINIQUE',      'MAURITANIA',
    'MAURITIUS',       'MAYOTTE',
    'MEXICO',          'MICRONESIA',
    'MOLDOVA',         'MONACO',
    'MONGOLIA',        'MONTENEGRO',
    'MONTSERRAT',      'MOROCCO',
    'MOZAMBIQUE',      'MYANMAR'
  ],
  "N": [
    'NAMIBIA',
    'NAURU',
    'NEPAL',
    'NETHERLANDS',
    'NEW CALEDONIA',
    'NEW ZEALAND',
    'NICARAGUA',
    'NIGER',
    'NIGERIA',
    'NIUE',
    'NORFOLK ISLAND',
    'NORTH KOREA',
    'NORTH MACEDONIA',
    'NORTHERN CYPRUS',
    'NORTHERN MARIANA ISLANDS',
    'NORWAY'
  ],
  "O": [ 'OMAN' ],
  "P": [
    'PAKISTAN',
    'PALAU',
    'PALESTINIAN TERRITORIES',
    'PANAMA',
    'PAPUA NEW GUINEA',
    'PARAGUAY',
    'PERU',
    'PHILIPPINES',
    'PITCAIRN ISLANDS',
    'POLAND',
    'PORTUGAL',
    'PUERTO RICO'
  ],
  "Q": [ 'QATAR' ],
  "R": [ 'ROMANIA', 'RUSSIA', 'RWANDA', 'RÉUNION' ],
  "S": [
    'SAHRAWI ARAB DEMOCRATIC REPUBLIC',
    'SAMOA',
    'SAN MARINO',
    'SAUDI ARABIA',
    'SENEGAL',
    'SERBIA',
    'SEYCHELLES',
    'SIERRA LEONE',
    'SINGAPORE',
    'SINT MAARTEN',
    'SLOVAKIA',
    'SLOVENIA',
    'SOLOMON ISLANDS',
    'SOMALIA',
    'SOMALILAND',
    'SOUTH AFRICA',
    'SOUTH GEORGIA & SOUTH SANDWICH ISLANDS',
    'SOUTH KOREA',
    'SOUTH OSSETIA',
    'SOUTH SUDAN',
    'SPAIN',
    'SRI LANKA',
    'ST. BARTHELEMY',
    'ST. HELENA',
    'ST. KITTS & NEVIS',
    'ST. LUCIA',
    'ST. MARTIN',
    'ST. PIERRE & MIQUELON',
    'ST. VINCENT & GRENADINES',
    'SUDAN',
    'SURINAME',
    'SVALBARD & JAN MAYEN',
    'SWEDEN',
    'SWITZERLAND',
    'SYRIA',
    'SAO TOME & PRINCIPE'
  ],
  "T": [
    'TAIWAN',
    'TAJIKISTAN',
    'TANZANIA',
    'THAILAND',
    'TIMOR-LESTE',
    'TOGO',
    'TOKELAU',
    'TONGA',
    'TRANSNISTRIA',
    'TRINIDAD & TOBAGO',
    'TUNISIA',
    'TURKEY',
    'TURKMENISTAN',
    'TURKS & CAICOS ISLANDS',
    'TUVALU'
  ],
  "U": [
    'U.S. OUTLYING ISLANDS',
    'U.S. VIRGIN ISLANDS',
    'UGANDA',
    'UKRAINE',
    'UNITED ARAB EMIRATES',
    'UNITED KINGDOM',
    'UNITED STATES',
    'URUGUAY',
    'UZBEKISTAN'
  ],
  "V": [ 'VANUATU', 'VATICAN CITY', 'VENEZUELA', 'VIETNAM' ],
  "W": [ 'WALLIS & FUTUNA', 'WESTERN SAHARA' ],
  "X": [],
  "Y": [ 'YEMEN' ],
  "Z": [ 'ZAMBIA', 'ZIMBABWE' ]
}

function handleInputChange(event) {
const inputId = event.target.id;
let inputValue = event.target.value;
filterWord(inputValue, event);
changeColor(inputId, inputValue);
//   winLoss();

}

/* "Listens" or checks for any changes to the tags with the round class */
document.body.addEventListener('input', function(event) {
if (event.target && event.target.classList.contains('round')) { 
    handleInputChange(event);
}
});

function filterWord(inputValue, event){
  let filteredValue = inputValue.toUpperCase()
    .replace(/[^\u0000-\u007F]|[\d]|[^\w\s'&.-]/g, '') //only removes non-ASCII letters
    .replace(/\bAND\b/g, '&')           // Replace "AND" with '&'
    ;

  event.target.value = filteredValue;
  if(event.target.value == ' ')
    event.target.value = '';
  
  return filteredValue;
}


//first get the specific input id then correspond that id to dictionary. then use the input to see if in dictionary
function changeColor(inputId, inputValue){
  var dictArray = dictionary[inputId];
  document.addEventListener('keydown', function(event){
    if (event.key == "Enter"){
        var value = filterWord(inputValue, event);
        console.log(value);
        if (dictArray.includes(value)){
            console.log("Correct");
            document.getElementById(inputId).style.backgroundColor = "#4B975C";
            document.getElementById(inputId).readOnly = true;
            }
        else{
            console.log("Incorrect");
            document.getElementById(inputId).style.backgroundColor = "#B14943";
            }
    }
    });

}

//draws one input box onto the html web page, input box is unique based on the input letter
function drawBox(letter){
  const container = document.getElementById('game');
  container.className = 'rows'
  const box = document.createElement('input');
  box.className = 'round';
  box.id = letter;
  box.placeholder = letter;

  container.appendChild(box);
}

//iterates through the dictionary and draws a box for whatever keys have values
function drawRows(){
  for (let key in dictionary){
    if (dictionary[key].length !== 0 ){
      drawBox(key)
    }
  }
}

drawRows()


